<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Aviator: The Aviator using A-Frame</title>
      <script src="https://aframe.io/releases/0.6.1/aframe.js"></script>  
     <!-- <script src="node_modules/aframe/dist/aframe-master.js"></script> -->

    <script src="shadows.js"></script>
    <script src="cockpit.js"></script>
    <script src="clouds.js"></script>
    <script src="hair.js"></script>
    <script src="waves.js"></script>
    <script src="plane-controller.js"></script>
  </head>
  <body style="background: linear-gradient(#e4e0ba, #f7d9aa);">
    <a-scene fog="type: linear; color: #f7d9aa; near: 100; far: 950" shadows="true">
      <a-assets>
        <a-mixin id="red" material="color: red"></a-mixin>
      </a-assets>

      <a-entity id="airplane" position="0 100 0" scale=".25 .25 .25" plane-controller>
        <a-entity 
          id="cabin"  
          geometry="primitive: box; width: 80; height: 50; depth: 50; buffer: false" 
          cast-shadow="cast: true; receive: true"
          position="0 0 0" 
          material="color: #f25346; flatShading: true"
          cockpit="cool"></a-entity>

        <a-entity id="engine" 
          geometry="primitive: box; width: 20; height: 50; depth: 50; buffer: false" 
          cast-shadow="cast: true; receive: true"
          position="50 0 0" 
          material="color: #d8d0d1; flatShading: true"></a-entity>

        <a-entity id="tail"
          geometry="primitive: box; width: 15; height: 20; depth: 5; buffer: false"  
          cast-shadow="cast: true; receive: true" 
          position="-40 20 0" 
          material="color: #f25346; flatShading: true"></a-entity>
        
        <a-entity id="wing" 
          geometry="primitive: box; width: 30; height: 5; depth: 120; buffer: false"  
          cast-shadow="cast: true; receive: true"
          position="0 15 0" 
          material="color: #f25346; flatShading: true"></a-entity>

        <!-- Right Wheel --> 

        <a-entity id="wheel-r" 
          geometry="primitive: box; width: 30; height: 15; depth: 10; buffer: false"  
          cast-shadow="cast: true; receive: true"
          position="25 -20 25" 
          material="color: #f25346; shader: flat"></a-entity>

        <a-entity id="tire-r" 
          geometry="primitive: box; width: 24; height: 24; depth: 4; buffer: false" 
          cast-shadow="cast: true; receive: true"
          position="25 -28 25" 
          material="color: #23190f; flatShading: true">

          <a-entity id="tire-axis-r" 
            geometry="primitive: box; width: 10; height: 10; depth: 6; buffer: false" 
            cast-shadow="cast: true; receive: true"
            position="0 0 0" 
            material="color: #59332e; flatShading: true"></a-entity>
        </a-entity>

        <!-- Left Wheel --> 

        <a-entity id="wheel-l" 
          geometry="primitive: box; width: 30; height: 15; depth: 10; buffer: false"  
          cast-shadow="cast: true; receive: true"
          position="25 -20 -25" 
          material="color: #f25346; flatShading: true"></a-entity>

        <a-entity id="tire-l" 
          geometry="primitive: box; width: 24; height: 24; depth: 4; buffer: false" 
          cast-shadow="cast: true; receive: true"
          position="25 -28 -25" 
          material="color: #23190f; flatShading: true">

          <a-entity id="tire-axis-l" 
            geometry="primitive: box; width: 10; height: 10; depth: 6; buffer: false" 
            cast-shadow="cast: true; receive: true"
            position="0 0 0" 
            material="color: #59332e; flatShading: true"></a-entity>
        </a-entity>

        <!-- Back Wheel --> 

        <a-entity id="tire-b" 
          geometry="primitive: box; width: 24; height: 24; depth: 4; buffer: false" 
          cast-shadow="cast: true; receive: true"
          position="-35 -5 0" 
          scale=".5 .5 .5"
          material="color: #23190f; flatShading: true">

          <a-entity id="tire-axis-b" 
            geometry="primitive: box; width: 10; height: 10; depth: 6; buffer: false" 
            cast-shadow="cast: true; receive: true"
            position="0 0 0" 
            material="color: #59332e; flatShading: true"></a-entity>
        </a-entity>

        <a-entity id="suspension" 
          geometry="primitive: box; width: 4; height: 20; depth: 4; buffer: false"  
          cast-shadow="cast: true; receive: true"
          position="-32 3 0" 
          rotation="0 0 -17"
          material="color: #f25346; flatShading: true"></a-entity>

        <a-entity>
          <a-entity id="propeller" 
            geometry="primitive: box; width: 20; height: 10; depth: 10; buffer: false" 
            cast-shadow="cast: true; receive: true"
            position="60 0 0"
            material="color: #59332e; flatShading: true">

            <a-entity id="blade"  
              geometry="primitive: box; width: 1; height: 80; depth: 15; buffer: false" 
              cast-shadow="cast: true; receive: true"
              position="8 0 0" 
              material="color: #23190f; flatShading: true"></a-entity>

            <a-animation attribute="rotation"
               dur="250"
               fill="forwards"
               to="360 0 0"
               easing="linear"
               repeat="indefinite"></a-animation>
          </a-entity>
        </a-entity>

        <a-entity id="pilot" position="-10 27 0">
          <a-entity id="body"
            geometry="primitive: box; width: 15; height: 15; depth: 15" 
            position="2 -12 0" 
            material="color: #59332e; flatShading: true"></a-entity>

          <a-entity id="face"
            geometry="primitive: box; width: 10; height: 10; depth: 10"
            position="0 0 0" 
            material="color: #F5986E; flatShading: true"></a-entity>

          <a-entity id="hair"
            position="0 0 0"
            material="color: #59332e; flatShading: true" 
            hair>
          </a-entity>

          <a-entity id="glass-right"  
            geometry="primitive: box; width: 5; height: 5; depth: 5"
            position="6 0 3" 
            material="color: #59332e; flatShading: true"></a-entity>

          <a-entity id="glass-left"  
            geometry="primitive: box; width: 5; height: 5; depth: 5"
            position="6 0 -3" 
            material="color: #59332e; flatShading: true"></a-entity>

          <a-entity id="glass-a"  
            geometry="primitive: box; width: 11; height: 1; depth: 11"
            position="0 0 0" 
            material="color: #59332e; flatShading: true"></a-entity>

          <a-entity id="ear-right"  
            geometry="primitive: box; width: 2; height: 3; depth: 2"
            position="0 0 6" 
            material="color: #59332e; flatShading: true"></a-entity>

          <a-entity id="ear-left"  
            geometry="primitive: box; width: 2; height: 3; depth: 2"
            position="0 0 -6" 
            material="color: #F5986E; flatShading: true"></a-entity>
        </a-entity>
      </a-entity>

      <a-entity id="clouds" 
        material="color: white" 
        position="0 -600 0" 
        clouds>
        <a-animation attribute="rotation"
          dur="9000"
          fill="forwards"
          to="0 0 360"
          easing="linear"
          repeat="indefinite"></a-animation>
      </a-entity>

      <a-entity id="sea" 
        geometry="primitive: cylinder; height: 800; radius: 600; segmentsRadial: 40; segmentsHeight: 10; buffer: false" 
        position="0 -600 0" 
        rotation="-90 0 0"
        cast-shadow="receive: true"
        material="color: #68c3c0; opacity: .8; transparent: true; flatShading: true"
        waves></a-entity>

      <a-entity position="0 100 200">
        <a-entity camera="fov:60; far:10000; near:1" 
          look-controls></a-entity>
      </a-entity>

      <a-entity light="type: hemisphere; color: #aaaaaa; groundColor: #000000; intensity: 0.9" position="0 0 0"></a-entity>
      <a-entity light="type: directional; color: #ffffff; intensity: 1.0" position="150 350 350" cast-shadow="cast: true"></a-entity>
      <a-entity light="type: ambient; intensity: .7; color: #dc8874;"></a-entity>
    </a-scene>
  </body>
</html>
